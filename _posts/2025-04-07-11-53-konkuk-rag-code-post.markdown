---
layout: post
title: "Max Marginal Relevance (MMR) 알고리즘"
date: 2025-04-07 11:53:00 +0900
categories: [konkuk, rag]
--- 
# Max Marginal Relevance (MMR) 알고리즘

**Max Marginal Relevance (MMR)** 알고리즘은 정보 검색과 문서 요약 과정에서 **다양성과 관련성**을 모두 고려하여 결과를 선택하는 데 사용됩니다.  
이 알고리즘의 목표는 **결과의 중복을 줄이면서도 가장 관련성 높은 정보를 제공**하는 것입니다.

---

## 🍽️ 비유: 레스토랑 메뉴 선택

여러분이 레스토랑에 가서 메뉴를 고를 때, 피자를 좋아하지만 피자만 먹기보다는 다양한 요리를 시도하고 싶다고 합시다.  
MMR 알고리즘은 여러분의 취향(관련성)과 **선택된 항목들 간의 차별성(다양성)**을 모두 고려하여 최적의 선택을 돕는 역할을 합니다.

---

## 🧠 주요 개념

MMR 알고리즘은 다음 두 가지 요소를 기준으로 작동합니다:

1. **관련성 (Relevance)**  
   → 검색 쿼리 또는 주제와 문서가 얼마나 잘 일치하는지를 나타냅니다.  
   → 예: Cosine Similarity, Dot Product 등

2. **다양성 (Diversity)**  
   → 이미 선택된 문서들과의 유사성을 줄이기 위한 평가.  
   → 유사성이 높은 문서의 선택 가능성을 낮춥니다.

---

## 🧮 알고리즘 수식

MMR 알고리즘은 다음 수식으로 표현됩니다:

<div style="text-align: center;">
  <img src="/assets/images/mustree/mmr.png">
</div>

- **Dᵢ**: 선택 가능한 문서  
- **R**: 전체 검색 결과 집합  
- **S**: 이미 선택된 문서 집합  
- **Q**: 사용자 쿼리  
- **Sim₁**: 문서와 쿼리 사이의 유사성  
- **Sim₂**: 문서 간 유사성  
- **λ (람다)**: 관련성과 다양성 사이의 균형 조절 파라미터 (0~1 사이 값)

> λ ↑ → 관련성 위주 / λ ↓ → 다양성 위주

---

## 🎬 예시: 영화 추천 시스템

사용자가 "액션 영화"에 관심을 보였다고 가정해 봅시다.

1. **관련성 평가**  
   → 시스템은 액션 장르의 영화에 높은 점수를 부여합니다.

2. **다양성 평가**  
   → 이미 추천된 영화와 유사한 작품은 점수를 낮추고,  
     예를 들어 "스파이 액션", "고대 전쟁 액션"과 같은 새로운 유형을 우선시합니다.

3. **최종 선택**  
   → 관련성이 높고 기존 추천과는 차별화된 새로운 액션 영화를 추천합니다.

---

## 🛠️ MMR 알고리즘의 응용 분야

- **검색 엔진 최적화 (SEO)**  
  → 관련성 높은 동시에 다양한 결과 제공

- **문서 요약**  
  → 중복을 줄이면서 주요 정보를 요약

- **추천 시스템**  
  → 사용자의 관심사에 부합하면서도 다양한 아이템 추천

---

