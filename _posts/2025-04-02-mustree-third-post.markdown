---
layout: post
title: "CME 선물 데이터 분석 및 시각화 프로젝트 실패 후기"
date: 2025-04-02 10:53:00 +0900
category: mustree
---

# 📊 CME 선물 데이터 분석 및 시각화 프로젝트 

이 글은 **CME(Chicago Mercantile Exchange) 주요 통화 선물(엔화, 유로FX, 파운드)**을 실시간으로 분석 및 시각화하는 프로젝트를 진행하며 겪은 기술적 한계와 이를 개선할 수 있는 방안을 담고 있습니다.

---

## 1. 🚀 프로젝트 개요

### 1.1  프로젝트 목표

-  CME 선물 데이터를 **60분봉 기준으로 실시간 수집**하여 최근 24시간의 가격 변동 분석
-  **기술적 지표**(분산, 변동성 등)를 계산하여 시장 동향을 객관적으로 파악
-  **Plotly 기반의 시각화** 및 **ChatGPT 기반 데이터 해석**을 통한 사용자 친화적 UI 제공

### 1.2 🛠 사용한 기술 스택

| 기술 | 설명 |
|------|------|
| Python 3.11 | 주 프로그래밍 언어 |
| Streamlit | 웹 UI 프레임워크 |
| Polygon.io API | 데이터 수집 |
| pandas | 데이터 분석 |
| Plotly | 시각화 |
| OpenAI API | AI 기반 데이터 해석 |

---

## 2. ⚠️ 프로젝트 수행 과정의 한계

### 2.1 📉 데이터 수집 문제

프로젝트 초기, `Polygon.io`, `yfinance`, `Alpha Vantage` 등 **무료 API**로부터 최근 24시간 동안의 60분봉 데이터를 수집하려 했으나, 다음과 같은 문제들로 인해 데이터를 성공적으로 확보하지 못했습니다.

>  **주의:** 무료 API는 제공 주기나 데이터 정확성에서 제약이 큽니다.

**Polygon.io API**
- CME 선물 데이터 제공이 제한적이며, 무료 계정의 데이터 제공량과 접근성 제한 존재
- 대부분 유료 플랜에서만 실시간 또는 60분봉 이하 주기로 제공

**Yahoo Finance (yfinance)**
- CME 선물 데이터 실시간 제공 미지원
- 분 단위 데이터 제공 불가능

**Alpha Vantage**
- 데이터 제공 범위 및 호출 제한 탓에 실시간 분석 불가능

### 2.2 🎯 가상 데이터를 통한 검증

실제 데이터 수집에는 실패했지만, **가상의 샘플 데이터**를 활용한 테스트에서는 시스템이 완벽하게 작동했습니다:

###  CME 선물 데이터 분석 결과

![CME 선물 데이터 분석 대시보드](/assets/images/mustree/메인1.JPG)  
*CME 선물 데이터 분석 대시보드: 캔들스틱 차트와 시간대별 변동성 분석*

시스템은 다음과 같은 분석 기능들을 성공적으로 수행했습니다:

1. **캔들스틱 차트 시각화**
   - 60분봉 기준의 가격 움직임을 명확하게 표현
   - 상승/하락 추세를 색상으로 구분하여 직관적 파악 가능

2. **시간대별 변동성 분석**
   - 우측 그래프의 막대 차트는 각 시간대별 가격 변동성을 표시
   - 파란 선은 누적 추세를 나타내어 전반적인 시장 흐름 파악 가능

3. **롤링 분산 분석**
   - 하단 그래프는 시간대별 롤링 분산값 추이를 보여줌
   - 시장의 변동성 변화를 실시간으로 모니터링 가능

###  상세 통계 분석

![시간대별 통계 분석](/assets/images/mustree/메인2.JPG)  
*시간대별 분산 분석 및 AI 해석 결과*

테스트 데이터에 대한 통계적 분석 결과:

1. **분산 지표 분석**
   - 시간대별 rolling_variance 계산
   - 표준편차(std_dev)와 평균(mean) 추적
   - 최대/최소값 모니터링

2. **AI 기반 해석**
   - 변동성이 가장 높은 시간대 식별
   - 추세 전환점 감지
   - 향후 변동성 예측 제시

이러한 분석 결과들은 실제 데이터에도 동일하게 적용 가능할 것으로 판단되며, 특히 AI의 해석 능력이 매우 정확했다는 점이 고무적이었습니다.

### 2.3 🐌 무료 API의 데이터 품질과 속도 문제

- 데이터 제공 속도와 정확성 제한
- 호출 제한으로 인해 실시간 분석엔 부적합

> 💡 **교훈:** 실시간성을 보장하기 위해선 **신뢰할 수 있는 유료 API** 사용이 필수적입니다.

---

## 3. 🔧 한계 극복을 위한 개선 방향

### 3.1  유료 API 활용

- **CME 공식 API (유료)**: 빠르고 정확한 실시간 데이터 확보 가능
- **Polygon.io 프리미엄 플랜**: 데이터 접근성과 제공 주기 개선
- **Interactive Brokers API**: 브로커 API로 실시간 데이터 확보 가능

### 3.2  데이터 수집 주기 및 분석 방법 최적화

- API 제한을 고려해 수집 주기 조정 (예: 5분, 15분, 30분 등)
- 내부적으로 데이터를 **resample**하여 60분봉 생성

### 3.3  기술적 구현 방식의 다양화

- API 호출 실패 시 자동 fallback(백업) 메커니즘
- **비동기 처리**를 통한 속도 향상
- Redis 등 캐시 시스템으로 성능 최적화

---

## 4. 🔭 앞으로의 발전 가능성

### 4.1  다양한 데이터 소스의 통합

- 외환시장 데이터와 CME 데이터 결합 → 더 정확한 예측
- 오픈소스 기반 블록체인 데이터 → 비용 절감

### 4.2  AI 모델 정교화

- 머신러닝, 딥러닝 기반 변동성 예측
- 강화학습 기반 매매 전략 자동화

### 4.3  사용자 경험 개선

- 모바일/다크모드 지원
- 사용자 맞춤형 실시간 알림 시스템

---

## 5. ✅ 결론

이 프로젝트는 **데이터 수집 한계와 기술적 제약**으로 인해 **처음 목표했던 실시간 분석**을 완전히 구현하지는 못했지만, 그 과정에서 얻은 인사이트는 매우 큽니다.

> 🎯 **핵심 인사이트**: "올바른 API 선택"과 "기술적 유연성"이 실시간 시스템의 핵심이다.

향후에는 **유료 API 도입** 및 **기술 스택 개선**을 통해 **보다 정밀하고 실시간성이 높은 시스템**으로 발전시킬 수 있을 것입니다.


> ✍️ 이 포스트는 실험을 기반으로 한 실무 경험을 바탕으로 작성되었으며,  
생성형 AI 기반 금융 분석에 관심 있는 분들에게 참고가 되기를 바랍니다. 